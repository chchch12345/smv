"use strict";
var fs_1 = require("fs");
module.exports = function (log, _a) {
    var dir = './public/log';

    if (!fs_1.existsSync(dir)){
        fs_1.mkdirSync(dir);
    }
    var _b = _a === void 0 ? {} : _a, _c = _b.fileName, fileName = _c === void 0 ? "error.log" : _c, _d = _b.date, date = _d === void 0 ? new Date() : _d;
    var stream = fs_1.createWriteStream('./public/log/'+fileName, { flags: "a" });//.replace(/(\r\n\t|\n|\r\t)/gm, " ; ")
    stream.write("\r\n[" + date.getFullYear() + "-" + (date.getMonth()+1) + "-" + date.getDate() + " " + date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds() + "] " + log);
    stream.end();
};
